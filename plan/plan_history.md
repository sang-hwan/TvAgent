# 변경 이력  
> 마지막 업데이트: **2025‑07‑15**

| 번호 | 변경일자 | 변경 항목 | 변경 전 | 변경 후 | 비고 |
|-----:|:--------:|----------|---------|---------|------|
| 1 | 2025‑06‑12 | 개발 환경 도구 명세 | Android Studio | Android Studio **Meerkat FD 2024.3.2 Patch 1** | 세부 버전 명시 |
| 2 | 2025‑06‑12 | 프로그래밍 언어 명시 | (미기재) | **Kotlin · Java 21** | 사용 언어 추가 |
| 3 | 2025‑06‑12 | Gradle 버전 명시 | (미기재) | **Gradle 8.12** | 초기 버전 명시 |
| 4 | 2025‑06‑13 | 프로젝트 명칭 | *중계 앱 개발 체계적 계획서* | **Android TV Agent 개발 계획서** | 대상 기기 명확화 |
| 5 | 2025‑06‑13 | 통신 흐름 설명 | AP 서버 ↔ 중계 앱 ↔ 보조 앱 | AP 서버 ↔ Android TV Agent ↔ Android TV 내 앱 | 보조 앱 제거 |
| 6 | 2025‑06‑13 | 앱 연동 대상 | 보조 앱 중심 | **Android TV 설치 앱** 연동 | 구조 전환 |
| 7 | 2025‑06‑13 | 단말 정보 수집 목적 | “벤더 최적화 고려” | Android TV 단말 정보를 **ACS 전송** | 목적 구체화 |
| 8 | 2025‑06‑13 | 용어 정비 | “단말” 등 혼용 | “**Android TV**”로 통일 | — |
| 9 | 2025‑06‑13 | Gradle 버전 상향 | 8.12 | **8.14.2** | 최신 버전 반영 |
| 10 | 2025‑06‑13 | 플랫폼 명시 | Android | **Android TV** | 플랫폼 명확화 |
| 11 | 2025‑06‑13 | 단계별 개발 세부화 | 단계만 나열 | ‘개발 환경 구축 완료’ 등 **세부 작업 명시** | 상세화 |
| 12 | 2025‑06‑13 | 진행·예정 구분 | 목표만 나열 | **진행 중 / 예정** 구분 | 계획 구체화 |
| 13 | 2025‑06‑13 | 보조 앱 계획 세분화 | 간략 언급 | **환경 구축 → 통합 테스트** 단계 명시 | 선택 사항 세분화 |
| 14 | 2025‑06‑13 | 향후 고려사항 | 포괄적 언급 | 벤더별 최적화·모듈화 **명시** | 유지보수 관점 |
| 15 | 2025‑06‑19 | Java 버전 조정 | Java 21 | **Java 11** | 호환성 이유 |
| 16 | 2025‑06‑19 | 신규 개발 단계 | AP 서버 통신 | **프로젝트 구조 세분화** 단계 추가 | 단계 조정 |
| 17 | 2025‑06‑19 | 에뮬레이터 환경 | (미기재) | **Android TV 에뮬레이터** 구성·테스트 | 환경 세부화 |
| 18 | 2025‑06‑30 | 단계 1 세부화 | 항목 나열 | ‘개발 도구 설정’ 등 **소제목화** | 가독성 |
| 19 | 2025‑06‑30 | 프로젝트 구조 세분화 | 패키지 구조 계획(예정) | **application, service, …** 확정 | 완료 처리 |
| 20 | 2025‑06‑30 | 단계 3 세부화 | 세부 미정 | **TR‑069 REST API 명세** 추가 | 통신 명세화 |
| 21 | 2025‑06‑30 | 단계 5 로직 세부화 | 클래스 개요 | **서비스 실행·명령 처리·상태 보고** 구조 명시 | 설계 상세 |
| 22 | 2025‑06‑30 | 보조 앱 계획 보완 | 간략 명시 | **REST/XML 통신**·개발 환경 명시 | 명확화 |
| 23 | 2025‑06‑30 | 향후 고려사항 보완 | 최적화 등 포괄 | **멀티모듈** 전환 검토 | 확장성 확보 |
| 24 | 2025‑06‑30 | 에뮬레이터 항목 수정 | 환경 구축+초기 테스트 | **환경 구축만** 명시 | 간소화 |
| 25 | 2025‑06‑30 | 데이터 파싱 범위 | XML+JSON | **XML 전용** | 대상 축소 |
| 26 | 2025‑06‑30 | REST API 항목 | REST 포함 | **REST 삭제** | 범위 축소 |
| 27 | 2025‑06‑30 | 보조 앱 통신 방식 | REST/XML 혼합 | **XML 전용** | 단순화 |
| 28 | 2025‑06‑30 | 멀티모듈 검토 | 검토 명시 | **검토 삭제** | 계획 축소 |
| 29 | 2025‑07‑02 | 프로젝트 트리 문서화 | (미기재) | **트리 구조 및 설명** 추가 | 구조 가시화 |
| 30 | 2025‑07‑02 | 단계 3 명칭 변경 | AP 서버 통신 구현 | **TR‑069 초기 구현 & Inform 이벤트 처리** | 명칭·작업 상세 |
| 31 | 2025‑07‑02 | OTA 단계 추가 | (미기재) | **OTA 펌웨어 업데이트(ACS)** | 신규 단계 |
| 32 | 2025‑07‑02 | 단계 번호 재정렬 | 테스트(6)·시연(7) | 테스트(7)·시연(8) | 단계 반영 |
| 33 | 2025‑07‑02 | 통신 방식 변경 | REST/XML 혼합 | **XML 단일** | 범위 축소 |
| 34 | 2025‑07‑02 | 멀티모듈 항목 복원 | (미기재) | **멀티모듈 검토** 재추가 | 확장성 재반영 |
| 35 | 2025‑07‑02 | 단계 세분화 | 8단계 | **12단계** | 세분화 |
| 36 | 2025‑07‑02 | 상태 구분 추가 | ✅, 🚧 | ✅, 🚧, ⬜ **(예정)** | 상태 명확화 |
| 37 | 2025‑07‑02 | Parser DTO 추가 | `GetParameterValuesResponse.kt` | `InformRequestBuilder.kt`, `InformResponseDto.kt` 추가 | DTO 확장 |
| 38 | 2025‑07‑02 | 서비스 역할 확장 | Inform 주기 미관리 | **Inform 주기 관리** 추가 | 서비스 확장 |
| 39 | 2025‑07‑02 | 비즈니스 로직 클래스 | (미기재) | `ReportInformUseCase.kt` 추가 | 신규 |
| 40 | 2025‑07‑02 | 테스트 클래스 추가 | (미기재) | `TR069ClientTest.kt`, `TR069ResponseParserTest.kt` | 테스트 명시 |
| 41 | 2025‑07‑02 | ACS 연결 상태 | Inform 구현 진행 중 | **Inform 구현 완료** | 상태 반영 |
| 42 | 2025‑07‑02 | `generated` 디렉토리 | (미기재) | `java (generated)`, `res (generated)` 명시 | 자동 생성 경로 |
| 43 | 2025‑07‑02 | OTA 세부화 | 단계만 추가 | 다운로드·무결성·설치·재부팅 명시 | 세부화 |
| 44 | 2025‑07‑02 | 테스트·시연 단계 조정 | 통합 테스트(11) | 단위(10)·통합(11)·시연(12) | 번호 조정 |
| 45 | 2025‑07‑04 | 단계 증가 | 12단계 | **14단계** (TR‑369 전환) | 신규 단계 |
| 46 | 2025‑07‑04 | 단계 순서 변경 | 4: OS 정보·5: BOOT | 4: **BOOT**·6: OS 정보 | 우선순위 조정 |
| 47 | 2025‑07‑04 | TR‑369 세부화 | (미기재) | TR‑069 → **TR‑369 (WebSocket)** | 프로토콜 명확화 |
| 48 | 2025‑07‑04 | 향후 고려사항 | 포괄적 | 멀티모듈·프로토콜 고도화 명시 | 상세화 |
| 49 | 2025‑07‑04 | 구조 단순화 | kotlin+java 병행 | **java 단일** | 구조 간소화 |
| 50 | 2025‑07‑07 | TR‑369 통신 방식 | **WebSocket** | **MQTT** | 프로토콜 변경 |
| 51 | 2025‑07‑07 | 단계 5 상세 | WebSocket 구현 | MQTT 연결·Pub/Sub·안정성 테스트 | 구현 변경 |
| 52 | 2025‑07‑07 | 테스트 환경 | (미기재) | 에뮬레이터+실기기 제한 사항 명시 | 환경 명시 |
| 53 | 2025‑07‑07 | 최종 목표 | IP 기기 제어 | IP 기기 제어(**MQTT TR‑369**) | 목표 명확화 |
| 54 | 2025‑07‑10 | MQTT 브로커 정보 | (미기재) | **tcp://aromit.iptime.org:18083**<br>(EMQX 5.7, admin/aromit123) | 정보 명시 |
| 55 | 2025‑07‑10 | MQTT 토픽 구조 | (미기재) | 상태 `usp/agent/{uuid}/inform`<br>명령 `usp/agent/{uuid}/command` | 토픽 구체화 |
| 56 | 2025‑07‑10 | 단계 5 세분화 | 간략 서술 | Gradle 설정·USP proto·MQTT 검증 등 **12개 세부 작업** | 세부화 |
| 57 | 2025‑07‑10 | 단계별 상태 표기 | (미기재) | 세부 작업별 **⬜ 예정** 상태 추가 | 진행 관리 |
| 58 | 2025‑07‑11 | 최종 목표 | MQTT TR‑369 모니터링 | MQTT TR‑369(**USP**) **완전 구현** | USP 명시 |
| 59 | 2025‑07‑11 | 단계 제목 | TR‑369 전환 | TR‑369(**USP**) 전환 | 명칭 변경 |
| 60 | 2025‑07‑11 | MQTT 로직 보완 | 연결 확인 수준 | 연결 직후 **commandTopic** 자동 구독 | 안정성 향상 |
| 61 | 2025‑07‑11 | 서비스 라이프사이클 | MQTT 수동 제어 | MQTT 연결/해제 **Service 연동** | 라이프사이클 |
| 62 | 2025‑07‑11 | 디바이스 UUID 로직 | 일반 설명 | `initDeviceUuid()` 구현 | UUID 명시 |
| 63 | 2025‑07‑11 | USP 변환 | 초기 초안 | `UspTr069Converter` **완료** | 매핑 구현 |
| 64 | 2025‑07‑11 | USP 모듈 | (미기재) | `UspSessionUseCase`, `UspParser` 등 | 모듈 신설 |
| 65 | 2025‑07‑11 | OS 정보 수집 | 간략 | `DeviceStatsProvider/Mapper` 추가 | 세부화 |
| 66 | 2025‑07‑11 | OTA 구현 | 간략 | `OtaManager`, `OtaJob`, `OtaRepository` | 세부화 |
| 67 | 2025‑07‑11 | 앱 연동 인터페이스 | 간략 | `TvAppController`, `AppInfoMapper` | 명시 |
| 68 | 2025‑07‑11 | Intent 제어 | 간략 | `IntentCommand`, `CommandBroadcastReceiver` | 구체화 |
| 69 | 2025‑07‑11 | 보조 앱 구조 | 간략 | **:companion** 모듈 분리 | 구조 명확 |
| 70 | 2025‑07‑11 | USP RPC 확장 | 일부 명령 | `Add`, `Delete`, `Operate` 등 추가 | 범위 확대 |
| 71 | 2025‑07‑11 | 단위 테스트 | 간략 | `TR069RequestBuilderTest`, `MqttManagerTest` | 구체화 |
| 72 | 2025‑07‑11 | 통합 테스트 | 간략 | `IntegrationSuite`, Docker EMQX | 환경 명시 |
| 73 | 2025‑07‑11 | 시연 자료 | 간략 | `/demo/*`, `run_demo.sh`, 시나리오 문서 | 자료 명시 |
| 74 | 2025‑07‑11 | 유지보수 계획 | 포괄 | 멀티모듈·R8·TLS·targetSdk 36 등 | 상세화 |
| 75 | 2025‑07‑11 | 최종 목표 재정의 | TR‑369 구현 | TR‑369(**USP**) 전환 + **TR‑069 런타임 비활성화** | Legacy 처리 |
| 76 | 2025‑07‑11 | 모듈 구조 | 단일 `:app` | **:agent-core, :network-mqtt, :protocol-usp, :protocol-tr069-legacy** | 멀티모듈 |
| 77 | 2025‑07‑11 | TR‑069 Legacy 처리 | 기존 클래스 유지 | `@Deprecated/@Disabled` 후 **빌드 제외** | 완전 비활성화 |
| 78 | 2025‑07‑11 | 브로커 TLS | http/1883 | **mqtts/8883** (TLS) | 보안 강화 |
| 79 | 2025‑07‑11 | MQTT 안정화 | 기본 구독 | 연결 직후 자동 구독·리스너 확장 | 안정성 |
| 80 | 2025‑07‑11 | USP 클래스 추가 | (미기재) | `UspMessageDispatcher` 등 | 메시지 처리 |
| 81 | 2025‑07‑11 | OTA USP 재설계 | TR‑069 OTA | `UspOtaCommand` 등 USP 기반 | 재설계 |
| 82 | 2025‑07‑11 | Intent 연동 | 간략 | 클래스·메서드 명시 | 명확화 |
| 83 | 2025‑07‑11 | Companion 모듈 | 간략 | **별도 모듈화** | 독립성 |
| 84 | 2025‑07‑11 | USP RPC 명령 | 일부 | `Add/Delete/Operate/Set/Get` 전부 | 범위 확장 |
| 85 | 2025‑07‑11 | USP 테스트 환경 | 혼합 | **USP 전용**(Docker EMQX, Test Harness) | 환경 전환 |
| 86 | 2025‑07‑11 | USP 시연 환경 | 혼합 | USP 예제·스크립트 제공 | 전환 |
| 87 | 2025‑07‑15 | 브로커 URL 변경 | `mqtts://…:8883` | `tcp://…:18083` | 개발 브로커 TLS 미사용 |
| 88 | 2025‑07‑15 | 최종 목표 명확화 | TR‑069 런타임 미호출 | TR‑069 **런타임 호출 금지** 강조 | Legacy 재강조 |
| 89 | 2025‑07‑15 | CI 자동 검증 | (미기재) | **TR‑069 호출 차단 + USP 기능 검증** | 파이프라인 강화 |
| 90 | 2025‑07‑15 | 최종 모듈 확정 | 4개 모듈 | `:app` 포함 **5개 모듈** | 구조 명확 |
| 91 | 2025‑07‑15 | 설정 기본값 | `enableTr069=false` | `Config.enableTr069=false` | 위치 명확화 |
| 92 | 2025‑07‑15 | MQTT Manager | 기본 연결 | **TLS 대응·재연결·QoS2** 포함 | TLS 추가 |
| 93 | 2025‑07‑15 | Boot Inform 전환 | 간략 서술 | **USP Inform** 호출 로직 명확 | 부팅 처리 |
| 94 | 2025‑07‑15 | Companion 단계 이동 | 단계 10 | **단계 11** | 순서 변경 |
| 95 | 2025‑07‑15 | Controller Command 단계 | 단계 11 | **단계 10** | 순서 변경 |
| 96 | 2025‑07‑15 | 통합 테스트 상세 | Docker EMQX | + **Instrumented Test** 추가 | 세부화 |
| 97 | 2025‑07‑15 | 시연/목업 환경 | 간략 서술 | **USP 메시지 기반 데모** 환경 구축 | 상세화 |
| 98 | 2025‑07‑15 | 향후 고려사항 | R8·TLS 등 | **USP 코드 자동 생성·멀티 브로커·관리 UI·OpenTelemetry** | 추가 |
| 99 | 2025‑07‑15 | `UspTr069Converter` 처리 | 포함 | **삭제** (TR‑069 매핑 제거) | Legacy 정리 |
| 100 | 2025‑07‑15 | BOOT Inform 처리 | Deprecated 표기 | Deprecated **+ 빌드 제외 위치 명확** | 표현 명확 |
| 101 | 2025‑07‑15 | DeviceStats 클래스 | 간략 | `DeviceStatsProvider/Mapper` 명시 | 클래스 명시 |
| 102 | 2025‑07‑15 | OTA 범위 | 펌웨어 | **펌웨어/앱** | 범위 확대 |
| 103 | 2025‑07‑15 | 상태 표기 | 예정 | ⬜ **예정·대기**로 세분 | 표현 명확 |
| 104 | 2025‑07‑15 | BOOT/BOOTSTRAP 기본값 | gradle.properties | `Config.enableTr069=false` **강조** | 설정 위치 명확 |
| 105 | 2025-07-17 | 프로젝트 최종 목표          | MQTT TR-369(USP)로 모니터링·제어       | **MQTT TR-369(USP)** 로 **원격** 모니터링·제어                           | '원격' 명시 추가                    |
| 106 | 2025-07-17 | 진행 상태 표시            | ✅ 완료, 🚧 진행 중, ⬜ 예정·대기          | ✅ 완료, 🚧 구현 중, 🛠 테스트 중, ⬜ 대기                                   | '구현 중', '테스트 중' 상태 추가 및 명칭 수정 |
| 107 | 2025-07-17 | 단계 5 제목             | MQTT USP 핵심 도입 & TR-069 완전 비활성화 | MQTT USP 핵심 도입 *(구현 대부분 완료, 통합 테스트 전)*                          | 단계 진행 상황 상세화                  |
| 108 | 2025-07-17 | 단계 5 세부 작업 명시       | 파일·모듈과 작업 간략 기술                 | 라이브러리·프로토콜·핵심 클래스·설정 등으로 분류하고 작업 상태(✅, 🚧, 🛠) 명시               | 세부 구분 및 상태 명확화                |
| 109 | 2025-07-17 | 단계 5 브로커 접속 상태      | 브로커 URL만 명시                     | 브로커 접속 상태를 🛠(테스트 중)으로 명시, 포트 매핑 추가(`51883→1883`, `58883→8883`) | 브로커 상태 및 포트 매핑 구체화            |
| 110 | 2025-07-17 | 단계 5 세부 액션 목록 추가    | (미기재)                           | 원격 접속 확인, TLS 인증서 적용, QoS2 지속 세션 설정 등 5개 세부 액션 명시               | 추적 가능한 액션 추가                  |
| 111 | 2025-07-17 | 단계 6 시작 조건 추가       | (미기재)                           | 단계 5의 모든 세부 액션(5-1~5-5) 완료 및 통합 테스트 안정성 검증 후 착수 명시             | 명확한 선행 조건 명시                  |
| 112 | 2025-07-17 | 단계 6~7 표 구성        | 간단한 나열식으로 서술                    | 작업을 항목별로 표 형식으로 구성하고 상태 표기(⬜) 추가                                | 가독성 및 진행 관리 개선                |
| 113 | 2025-07-17 | 단계 12 단위 테스트 항목 세분화 | 각 모듈별 간략 테스트 항목 나열              | 번호(12-1~12-4)를 매기고 항목별 테스트 목적 구체화                              | 테스트 관리 세분화                    |
| 114 | 2025-07-17 | 단계 13 통합 테스트 항목 세분화 | 통합 테스트 간략 명시                    | 번호(13-1~13-4)를 매기고 Instrumented Test 구체화                       | 통합 테스트 상세화                    |
| 115 | 2025-07-17 | 단계 6 세부 설명 보완  | 간략 서술(CPU/RAM/Storage/App 용량 수집 등)         | 작업을 표로 구성, 파일명 명시(`DeviceStatsProvider.kt`, `DeviceStatsMapper.kt`) 및 Inform 이벤트(`EVENT_PERIODIC`) 구체화 | 구체적 파일 및 로직 명시 |
| 116 | 2025-07-17 | 단계 7 세부 설명 보완  | 간략 서술(`UspOtaCommand.kt`, `OtaManager.kt`) | 표 형식으로 항목별 작업 구성 및 세부 작업(`다운로드·검증·설치`) 명시                                                              | 세부 작업 가독성 향상   |
| 117 | 2025-07-17 | 단계 15 세부 설명 보완 | 간략 서술(TLS 필수 적용, 벤더 플러그인)                  | 표 형식으로 작업 항목 구체화(TLS 필수화(`network_security_config.xml`), targetSdk 36 대응, R8 최적화 등)                    | 하드닝 항목 명확화     |
| 118 | 2025-07-17 | 용어 통일성 유지      | 🚧 진행 중, ⬜ 예정·대기                           | 🚧 구현 중, 🛠 테스트 중, ⬜ 대기                                                                                | 상태 표현 명칭 통일    |
